
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Is the NBA draft rigged?</title>
    <meta name="description" content="">
    <meta name="author" content="Jason Liszka">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.2.2.2.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1&amp;v=2" rel="stylesheet" type="text/css" media="all">
    <link href="/assets/themes/twitter/css/pygment.css" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  </head>

  <body>
    <div class="navbar">
      <div class="navbar-inner">
        <div class="container-narrow">
          <div class="row-fluid">
            <div class="span9 offset1">
              <a class="brand" href="/">A Gentleman and a Scala</a>
              <ul class="nav">
                
                
                


  
    
      
      	
      	<li><a href="/archive">Archive</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags">Tags</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  



              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="content">
        
<div class="row-fluid">
  <div class="span9 offset1 post-content post-spacer"></div>
</div>
<div class="row-fluid post-full">
  <div class="span9 offset1 post-content">
    <div class="page-header">
      <h1>Is the NBA draft rigged? </h1>
    </div>
    <div class="date">
      
        <span>12 July 2014</span>
      
    </div>
    <div class="content">
      
<blockquote class="twitter-tweet" lang="en"><p>Had a chat with <a href="https://twitter.com/jliszka">@jliszka</a> about Bayes&#39; rule, the &#39;14 draft lottery, &amp; the chances the NBA is rigged. Now I don&#39;t believe in anything anymore.</p>&mdash; harryh (@harryh) <a href="https://twitter.com/harryh/statuses/487722129681838080">July 11, 2014</a></blockquote>
<script async="" src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>This chat basically consisted of Harry mentioning that the Cleveland Cavaliers got the first pick in the draft,
even though the lottery gave them only a 1.7% chance of drawing that slot, then wondering aloud how he should update his
prior on whether the NBA draft is rigged given this information, and then me breaking out my <a href="/2013/09/03/fun-with-bayesian-priors.html">probability monad</a>,
because there’s no problem that can’t be solved with more monads.</p>

<!-- more -->

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="k">def</span> <span class="n">isTheNBADraftRigged</span><span class="o">(</span><span class="n">prior</span><span class="k">:</span> <span class="kt">Double</span><span class="o">)</span> <span class="k">=</span> <span class="o">{</span>
  <span class="k">val</span> <span class="n">rigged</span> <span class="k">=</span> <span class="n">tf</span><span class="o">(</span><span class="n">prior</span><span class="o">)</span>
  <span class="k">def</span> <span class="n">cavsGetFirstPick</span><span class="o">(</span><span class="n">rigged</span><span class="k">:</span> <span class="kt">Boolean</span><span class="o">)</span> <span class="k">=</span> <span class="n">rigged</span> <span class="k">match</span> <span class="o">{</span>
    <span class="k">case</span> <span class="kc">true</span> <span class="k">=&gt;</span> <span class="n">always</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
    <span class="k">case</span> <span class="kc">false</span> <span class="k">=&gt;</span> <span class="n">tf</span><span class="o">(</span><span class="mf">0.017</span><span class="o">)</span>
  <span class="o">}</span>
  <span class="n">rigged</span><span class="o">.</span><span class="n">posterior</span><span class="o">(</span><span class="n">cavsGetFirstPick</span><span class="o">)(</span><span class="k">_</span> <span class="o">==</span> <span class="kc">true</span><span class="o">).</span><span class="n">pr</span><span class="o">(</span><span class="k">_</span> <span class="o">==</span> <span class="kc">true</span><span class="o">)</span>
<span class="o">}</span></code></pre></figure>

<p>This code generates the posterior distribution given a prior (<code class="highlighter-rouge">rigged</code>), some experiment that depends on the value of
the prior distribution (<code class="highlighter-rouge">cavsGetFirstPick</code>), and what was observed (that the Cavs indeed got the first pick).</p>

<p>Harry said his prior for the NBA draft being rigged was 5% and said to assume that if the draft is rigged, then the
Cavs have a 100% chance of getting the first pick.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>scala&gt; isTheNBADraftRigged(0.05)
res0: Double = 0.755
</code></pre>
</div>

<p><strong>Me:</strong> You should now believe there’s a 75% chance that the draft is rigged.</p>

<p><strong>Harry:</strong> Head asplode.</p>

<p><strong>Harry:</strong> OK, what if my prior is only 1%?</p>

<p><strong>Me:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>scala&gt; isTheNBADraftRigged(0.01)
res1: Double = 0.369
</code></pre>
</div>

<p><strong>Harry:</strong> Are you telling me that even if I thought there was only a 1% chance that the draft was rigged, I should now
believe that that probability is now better than 1 in 3?</p>

<p><strong>Me:</strong> Yes.</p>

<p><strong>Harry:</strong> I don’t believe in anything anymore.</p>

<h3 id="math">Math</h3>

<p>Simulation is overkill. It’s easy enough to compute the posterior probability directly via Bayes’ Theorem.</p>

<script type="math/tex; mode=display">
%<![CDATA[
P(A|B) = P(A)\frac{P(B|A)}{P(B)} \\
%]]>
</script>

<p>Let A = “the NBA draft is rigged” and B = “the Cavs get the first pick” and compute:</p>

<script type="math/tex; mode=display">
%<![CDATA[
P(A|B) = 0.05 \cdot \frac{1.0}{0.05 \cdot 1.0 + 0.95 \cdot 0.017} = 0.756
%]]>
</script>

<h3 id="mental-math">Mental math</h3>

<p>There’s another way to do this calculation that is slightly more conducive to mental math (or maybe just calculator
math). The trick is to do everything in terms of the odds ratio. So instead of saying your prior is 5%, you’d say that
the prior odds ratio is 1 : 19. Then you find the likelihood ratio, which is the ratio of the probability of the outcome
(the Cavs get the first pick) under both hypotheses (the draft is rigged, the draft is not rigged), which is 100 : 1.7.
Then you just multiply the ratios together, and you get the posterior odds ratio. Plugging that into my calculator, I
get 3.1, which is 75.6%.</p>

<p>In math, it’s</p>

<script type="math/tex; mode=display">
%<![CDATA[
\begin{align}
O(A|B) &= O(A) \cdot \frac{P(B|A)}{P(B|\lnot A)} \\
&= \frac{1}{19} \cdot \frac{100}{1.7} \\
&= 3.1
\end{align}
%]]>
</script>


    </div>

  

  


  <div style="float: right; margin-top: 5px">
  <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://jliszka.github.io/2014/07/12/is-the-nba-draft-rigged.html" data-text="Is the NBA draft rigged?" data-via="jliszka">Tweet</a>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
</div>




  
    <ul class="tag_box inline">
      <li><i class="icon-tags"></i></li>
      
      


  
     
    	<li><a href="/tags.html#probability-ref">probability <span>10</span></a></li>
    
  



    </ul>
  
    <div style="clear: both"></div>

    <hr>
    <div class="navigation">
    
      <span class="prev"><a href="/2014/06/03/programming-with-futures.html" title="Programming with futures: patterns and anti-patterns">&larr; Programming with futures: patterns and anti-patterns</a></span>
    
    
      <span class="next"><a href="/2014/07/31/the-quantum-eraser.html" title="The quantum eraser demystified">The quantum eraser demystified &rarr;</a></span>
    
      <div style="clear: both"></div>
    </div>
    <hr>
    


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'jliszka'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




  </div>

  <div class="span2 sidebar">
    <a href="/"><div id="photo"></div></a>
    <div id="bio">
      <b>Jason Liszka</b><br/>
      <i>Engineer at Slack NYC, CMU alum, Scala fan, new father</i>
    </div>
    <h4>Popular posts</h4>
    <ul>
      <li><a href="/2013/10/01/how-traffic-actually-works.html">How traffic actually works</a></li>
      <li><a href="/2013/08/12/a-frequentist-approach-to-probability.html">A frequentist approach to probability</a></li>
      <li><a href="/2013/10/24/exact-numeric-nth-derivatives.html">Exact numeric nth derivatives</a></li>
      <li><a href="/2013/10/31/infinite-lazy-polynomials.html">Infinite lazy polynomials</a></li>
    </ul>

    <h4>Recent posts</h4>
    <ul>
      
        <li><a href="/2016/05/10/between-order-and-chaos.html">Between order and chaos</a></li>
      
        <li><a href="/2016/04/05/probability-is-in-the-process.html">Probability is in the process</a></li>
      
        <li><a href="/2014/07/31/the-quantum-eraser.html">The quantum eraser demystified</a></li>
      
        <li><a href="/2014/07/12/is-the-nba-draft-rigged.html">Is the NBA draft rigged?</a></li>
      
        <li><a href="/2014/06/03/programming-with-futures.html">Programming with futures: patterns and anti-patterns</a></li>
      
    </ul>

    <a href="https://twitter.com/jliszka" class="twitter-follow-button" data-show-count="false" data-size="large" data-show-screen-name="false">Follow @jliszka</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  </div>
</div>


      </div>
      <hr>
      <footer>
        <p>&copy; 2013 Jason Liszka
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
      </footer>

    </div>

    


  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-42567355-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>

